# オセロ

GitHub Copilot で作成したオセロ。

以下のように作成した。

- あらかじめ設計をしておく（設計参照）
- コードを作成する
  - `model.py`、`controller.py`、`__main__.py`を作成する
  - `model.py`に`Stone`クラス、`Cell`クラス、`Board`クラスを定義する（中身の実装はしない）
  - `Controller.py`に`Controller`クラスを定義する
  - 各クラスの中身を実装する
    - メソッドを定義して、想定通りのコードを提案してくれたら採用する
    - 想定通りのコードを提案してくれなかったら、コメントで指示する
    - Linter に怒られる箇所などがあれば手直しする
    - 設計時には考慮していなかった機能を GitHub Copilot に提案された場合、必要そうであれば採用し、設計を修正する
      - 例えば、「全てのマスに石が置かれていればゲーム終了」という機能は GitHub Copilot に提案されて追加した

## 設計

Stone

- 初期状態
  - 指定された色（白か黒）を持つ

Cell

- 初期状態
  - 指定された石を持つ。指定されなければ石を持たない。
- 石を置く
- 石を反転する

Board

- 初期状態
  - 8 \* 8 の Cell をつくる
  - 中央の 4 つの Cell には白黒白黒の石を置く
- Cell に石を置く
  - 石を置けるかどうか判断する
    - 石を置こうとするマスには、既に石が置かれていないこと。
    - 石を置こうとするマスから、直線上に既に相手の石があること。
    - 相手の石の直後に自分の石があること（自分の石で挟み込むことができる）。
    - 上記の条件を満たすとき、相手の石を自分の石で挟み込んでいる方向について、すべての相手の石を自分の石にひっくり返すことができること。
  - 石を置く
  - 相手の石をひっくり返す
- 黒石の数と白石の数を数える
- 指定された石を置ける場所があるかどうか判断する
- 全ての Cell に石が置かれているかどうか判断する

Controller

- 初期状態
  - Board の初期状態をつくる
  - 初手を黒とする
- ゲームを進行する
  - 石が置けなくなるまで以下を繰り返す
    - 黒の番か白の番かを出力する
    - ボードの状態を出力する
    - 手番の石を置く場所があるかどうか判断し、置く場所がなければ相手の番とする
    - 置く場所があれば、石を置く場所を尋ねる
    - 指定された場所に石を置けるか判断する
    - 石を置けなければ再度石を置く場所を尋ねる
    - 石を置ければ、石を置いて、相手の番とする
  - 石が置けなくなったら、黒と白の石の数を数えて勝敗を判定する

## 起動

```shell
python -m othello_python
```
